<!doctype html><html lang="en"><head><meta charset="UTF-8"><meta name="darkreader-lock"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Violette ‚Ä¢ 7.0 Pointeurs</title><link rel="shortcut icon" href="/assets/images/pecklo.webp" type="image/x-icon"><link rel="stylesheet" href="/assets/css/main.min.css"><script type="module" src="/assets/js/main.js" defer="defer"></script></head><body><div id="sidebar"><nav><section id="about"><img width="296" height="296" src="/assets/images/peklo-transparent.png" alt=""> <a id="" href="/">Violette</a></section><section id="links"><a href="/awesome/">Awesome</a> ‚Ä¢ <a href="/blogs/">Blogs</a> ‚Ä¢ <a href="/">Home</a> ‚Ä¢ <a href="/projects/">Projects</a> ‚Ä¢ <a target="_blank" rel="noopener noreferrer" href="https://github.com/imsumire/">Github</a> ‚Ä¢ <a target="_blank" rel="noopener noreferrer" href="https://www.pinterest.fr/Violettttte/">Pinterest</a></section></nav><footer><p>Made with ‚ù§ by <a target="_blank" rel="noopener noreferrer" href="https://github.com/ImSumire">@imsumire</a></p><p>Using <a target="_blank" rel="noopener noreferrer" href="https://www.11ty.dev/">11ty</a>, <a target="_blank" rel="noopener noreferrer" href="https://swup.js.org/">Swup</a>, <a target="_blank" rel="noopener noreferrer" href="https://sass-lang.com/">Sass</a> and <a target="_blank" rel="noopener noreferrer" href="https://www.typescriptlang.org/">TypeScript</a></p></footer></div><main class="transition-main"><h1>7.0 Pointeurs</h1><h2>1. M√©moire</h2><p>Avant de d√©finir ce qu'est un pointeur, il faut d'abord comprendre comment marche la m√©moire d'un ordinateur:</p><p><img src="/assets/images/ram-smoler.png" alt="Sch√©ma RAM"></p><p>La m√©moire est tout simplement un √©norme array o√π sont stock√©es toutes les donn√©es temporaire d'un ordinateur. Sa taille d√©pend de votre RAM, le composant physique de votre ordinateur. <em>Si la m√©moire de votre ordinateur fait 8Go, alors vous pourrez y stocker ~8 000 000 000 octets!</em></p><p>Une adresse m√©moire est un index, elle va de 0 jusqu'√† la taille de votre RAM.</p><p>Pas d'inqui√®tudes, les ordinateurs savent tr√®s bien g√©rer la m√©moire et C facilite √©norm√©ment son utilisation.</p><h2>2. D√©finition</h2><p>Un pointeur est donc un index en tant qu'entier positif qui pointe vers une adresse m√©moire sp√©cifique.</p><h2>3. Principe</h2><p>Imaginez que vous avez un livre avec des pages num√©rot√©es. Chaque page a une adresse unique, qui est son num√©ro de page. Un pointeur est comme un marque-page qui pointe vers une page sp√©cifique du livre. Lorsque vous utilisez le pointeur, vous pouvez acc√©der directement √† la page correspondante.</p><p>De m√™me, lorsque vous utilisez un pointeur en C, vous pouvez acc√©der directement √† la valeur stock√©e √† l'adresse m√©moire correspondante. Cela permet de faire des manipulations performantes, par exemple: √©changer deux adresses plut√¥t que de copier trois fois les objets stock√©s √† ces adresses.</p><h2>4. Op√©rateurs (&amp;, *)</h2><p>Il existe deux op√©rateurs principaux pour travailler avec les pointeurs : <code>&amp;</code> et <code>*</code>.</p><p><em>Oui, √ßa peut √™tre perturbant car ce sont les m√™mes que le ET logique et l'op√©rateur de multiplication... Pardonnons C car il est vieux...</em></p><ul><li>L'op√©rateur &amp; est utilis√© pour obtenir l'adresse m√©moire d'une variable:</li></ul><pre class="language-c"><code class="language-c"><span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
<span class="token keyword">int</span><span class="token operator">*</span> ptr <span class="token operator">=</span> <span class="token operator">&amp;</span>x<span class="token punctuation">;</span></code></pre><p><em>Dans cet exemple, <code>ptr</code> est un pointeur qui pointe vers l'adresse m√©moire de <code>x</code>. On utilise assez souvent <code>ptr</code> pour &quot;pointer&quot;, c'est plus court comme √ßa.</em></p><ul><li>L'op√©rateur * est utilis√© pour acc√©der √† la valeur stock√©e √† l'adresse m√©moire point√©e par un pointeur:</li></ul><pre class="language-c"><code class="language-c"><span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
<span class="token keyword">int</span><span class="token operator">*</span> ptr <span class="token operator">=</span> <span class="token operator">&amp;</span>x<span class="token punctuation">;</span>

<span class="token keyword">int</span> valeur <span class="token operator">=</span> <span class="token operator">*</span>ptr<span class="token punctuation">;</span></code></pre><p><em>Dans cet exemple, valeur est √©gal √† 5, car <code>ptr</code> pointe vers l'adresse m√©moire de <code>x</code>, qui contient la valeur <code>5</code>.</em></p><h2>5. En tant que param√®tre</h2><p>Les pointeurs peuvent √™tre utilis√©s comme param√®tres de fonctions pour passer des variables par r√©f√©rence. Cela signifie que la fonction peut modifier la valeur de la variable originale.</p><pre class="language-c"><code class="language-c"><span class="token keyword">void</span> <span class="token function">incrementer</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> ptr<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token operator">*</span>ptr <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>  <span class="token comment">// *ptr d√©f√©rence ptr, et on ajoute 1</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
    <span class="token function">incrementer</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> x<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 6</span>

    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><p><em>Dans cet exemple, la fonction <code>incrementer</code> prend un pointeur vers un entier comme param√®tre. La fonction incr√©mente la valeur point√©e par le pointeur, ce qui modifie la valeur de <code>x</code>.</em></p><h2>6. Arrays personnalis√©s</h2><p>Les pointeurs peuvent √™tre utilis√©s pour cr√©er des arrays personnalis√©s, donc de taille calcul√©e en &quot;run-time&quot;:</p><pre class="language-c"><code class="language-c"><span class="token keyword">int</span><span class="token operator">*</span> arr <span class="token operator">=</span> <span class="token function">malloc</span><span class="token punctuation">(</span><span class="token number">4</span> <span class="token operator">*</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
arr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
arr<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
arr<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span></code></pre><p><em>Dans cet exemple, <code>arr</code> est un pointeur qui pointe vers un bloc de m√©moire allou√© pour stocker 4 entiers. Les √©l√©ments de l'array peuvent √™tre acc√©d√©s en utilisant <code>[]</code>.</em></p><p><em>Nous allons voir dans le prochain chapitre comment utiliser <code>malloc</code>.</em></p><p><em><code>sizeof</code> r√©cup√®re la taille que prend un <code>int</code> en m√©moire, g√©n√©ralement c'est 4 (4 octets).</em></p><h2>7. Pointeur de pointeur ü§Ø</h2><h3>Work In Progress</h3><p><img src="/assets/images/anya-pointers.png" alt="Anya Pointers"></p><a href="/blog/c-fr/arrays"><button class="prevlink">6.0 Arrays</button></a> <a href="/blog/c-fr/memory"><button class="nextlink">8.0 Gestion de la m√©moire</button></a></main></body></html>